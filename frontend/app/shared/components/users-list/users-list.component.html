<table *ngIf="users; else loading" class="table table-hover">
  <p class="text-center" *ngIf="users.length === 0">
    No users. <a class="btn-link" [routerLink]="['/users','new']">add a user</a>
  </p>

  <thead *ngIf="users.length > 0">
    <tr>
      <th>#</th>

      <th>Full Name</th>

      <th></th>
    </tr>
  </thead>

  <tbody *ngIf="users.length > 0">
    <tr class="user-row" *ngFor="let user of users; trackBy: usersTrackByFn">
      <th scope="row">{{user.id}}</th>

      <td>{{user.first_name}} {{user.last_name}}</td>
      <td>
        <span class="float-right">
          <button (click)="showDetails(user)" class="btn btn-outline-primary mb-1 btn-sm">
            DETAILS
          </button>

          <button *ngIf="user.own" (click)="editUser(user)" class="btn btn-outline-warning mb-1 btn-sm">
            EDIT
          </button>

          <button *ngIf="user.own" (click)="deleteUser(user)" class="btn btn-outline-danger mb-1 btn-sm">
            DELETE
          </button>
        </span>
      </td>
    </tr>
  </tbody>
</table>

<ng-template #loading>
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
</ng-template>
